<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„ ë°”ë¡œ ì•Œê¸°: ì§€ë¦¬ì  íŠ¹ì„±ê³¼ ìˆ˜í˜¸ì˜ ì—­ì‚¬</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts (Noto Sans KR for Korean text) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Application Configuration & Styles -->
    <style>
        /* Chosen Palette: Warm Neutrals (Stone) with Deep Ocean Blue accents to symbolize the sea/island theme while maintaining calm harmony. */
        :root {
            --color-bg: #fafaf9; /* stone-50 */
            --color-card: #ffffff;
            --color-primary: #1c1917; /* stone-900 */
            --color-secondary: #57534e; /* stone-600 */
            --color-accent: #0369a1; /* sky-700 */
            --color-accent-soft: #e0f2fe; /* sky-100 */
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-primary);
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Chart Container Styling - MANDATORY PER REQUIREMENTS */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            /* Defined heights for responsiveness */
            height: 300px;
            max-height: 400px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-width: 600px; /* Constrain max width on larger screens */
            }
        }

        /* Custom Scrollbar for inner content */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 4px;
        }
        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }

        /* Navigation Active State */
        .nav-item.active {
            border-bottom: 3px solid var(--color-accent);
            color: var(--color-accent);
            font-weight: 700;
        }

        /* Card Hover Effects */
        .interactive-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }
        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: var(--color-accent);
        }

        /* Timeline Connector Line */
        .timeline-line::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px;
            background-color: #e5e7eb;
            transform: translateX(-50%);
            z-index: 0;
        }
    </style>

    <!-- Application Structure Plan: 
         The app is designed as a "Digital Learning Dashboard" with 4 main tabs.
         1. Dashboard (Overview): High-level abstract and core identity.
         2. Geography (Space): Focus on physical reality, location, and value using visual cards and composition charts.
         3. History (Time): A dual-view section (Timeline vs. Evidence) to allow users to cross-reference events with documents.
         4. Resolution (Future): Focus on the conflict dynamics and actionable solutions.
         
         Why this structure? The report moves from physical facts to historical proof, then to current issues. 
         Separating Space (Geo) and Time (History) reduces cognitive load.
    -->

    <!-- Visualization & Content Choices:
         1. Geography: Pie Chart for Island Composition (2 main vs 89 rocks) -> Shows the unique fragmentation.
         2. History: Bar Chart comparing # of evidences -> Visually reinforces that both sides have records, but ours are consistent.
         3. Interactive Timeline: Vertical flow -> Best for storytelling chronological events.
         4. Toggle Views: Used for "Documents" to switch between KR and JP records without clutter.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header / Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0 flex items-center space-x-4">
                    <!-- Home Icon Link -->
                    <a href="index.html" class="text-stone-500 hover:text-sky-800 transition-colors flex items-center" title="í™ˆìœ¼ë¡œ">
                        <span class="text-2xl">ğŸ </span>
                    </a>
                    <div class="flex items-center cursor-pointer" onclick="navigateTo('dashboard')">
                        <span class="text-xl sm:text-2xl font-bold text-sky-800">ğŸ‡°ğŸ‡· ë…ë„ ë°”ë¡œ ì•Œê¸°</span>
                    </div>
                </div>
                <nav class="hidden sm:flex space-x-8">
                    <button onclick="navigateTo('dashboard')" id="nav-dashboard" class="nav-item active px-1 pt-1 text-sm font-medium text-gray-900">ìš”ì•½</button>
                    <button onclick="navigateTo('geography')" id="nav-geography" class="nav-item px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-700">ì§€ë¦¬ì  ê°€ì¹˜</button>
                    <button onclick="navigateTo('history')" id="nav-history" class="nav-item px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-700">ì—­ì‚¬ì™€ ì¦ê±°</button>
                    <button onclick="navigateTo('resolution')" id="nav-resolution" class="nav-item px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-700">ê°ˆë“±ê³¼ í•´ê²°</button>
                </nav>
                <!-- Mobile Menu Button (simplified) -->
                <div class="sm:hidden flex items-center">
                    <button onclick="toggleMobileMenu()" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                        <span class="text-2xl">â‰¡</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden sm:hidden bg-white border-t border-gray-200">
            <button onclick="navigateTo('dashboard'); toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-50">ìš”ì•½</button>
            <button onclick="navigateTo('geography'); toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-50">ì§€ë¦¬ì  ê°€ì¹˜</button>
            <button onclick="navigateTo('history'); toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-50">ì—­ì‚¬ì™€ ì¦ê±°</button>
            <button onclick="navigateTo('resolution'); toggleMobileMenu()" class="block w-full text-left px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-50">ê°ˆë“±ê³¼ í•´ê²°</button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-content" class="flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">
        <!-- Dynamic Content Injected Here via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-stone-100 mt-auto border-t border-stone-200">
        <div class="max-w-6xl mx-auto px-4 py-6 sm:px-6 lg:px-8">
            <p class="text-center text-sm text-stone-500">
                ë³¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ã€ë…ë„ ë°”ë¡œ ì•Œê¸°ã€ ë³´ê³ ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. <br>
                ëŒ€í•œë¯¼êµ­ ê²½ìƒë¶ë„ ìš¸ë¦‰êµ° ìš¸ë¦‰ì ë…ë„ë¦¬ 1~96ë²ˆì§€
            </p>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA STORE ---
        const appData = {
            summary: {
                title: "ëŒ€í•œë¯¼êµ­ì˜ ì•„ì¹¨ì„ ì—¬ëŠ” ì„¬, ë…ë„",
                abstract: "ë³¸ ë³´ê³ ì„œëŠ” ëŒ€í•œë¯¼êµ­ì˜ ê°€ì¥ ë™ìª½ ë ì„¬ì¸ ë…ë„ì˜ ì§€ë¦¬ì Â·ìƒíƒœì  íŠ¹ì„±ì„ ê³ ì°°í•˜ê³  ì˜í†  ìˆ˜í˜¸ì˜ ìƒì§•ì  ê°€ì¹˜ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤. ì—­ì‚¬ì  ì‚¬ë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ìš°ë¦¬ ì˜ìœ ê¶Œì˜ ì •ë‹¹ì„±ì„ ê²€í† í•˜ê³ , ë¯¸ë˜ì§€í–¥ì ì¸ í‰í™”ì  í•´ê²° ë°©í–¥ì„±ì„ ì œì‹œí•©ë‹ˆë‹¤.",
                stats: [
                    { label: "ì£¼ì†Œ", value: "ê²½ë¶ ìš¸ë¦‰êµ° ìš¸ë¦‰ì ë…ë„ë¦¬" },
                    { label: "êµ¬ì„±", value: "ë™ë„, ì„œë„ ì™¸ 89ê°œ ë¶€ì†ë„ì„œ" },
                    { label: "ê±°ë¦¬", value: "ìš¸ë¦‰ë„ì—ì„œ 87.4km" }
                ]
            },
            geography: {
                intro: "ë…ë„ëŠ” í•´ì € 2,000mì—ì„œ ì†Ÿêµ¬ì¹œ ìš©ì•”ì´ êµ³ì–´ì ¸ í˜•ì„±ëœ í™”ì‚°ì„¬ìœ¼ë¡œ, ìš¸ë¦‰ë„ë‚˜ ì œì£¼ë„ë³´ë‹¤ ë¨¼ì € í˜•ì„±ëœ ì§€ì§ˆí•™ì  ê°€ì¹˜ë¥¼ ì§€ë‹™ë‹ˆë‹¤.",
                location: {
                    desc: "ë§‘ì€ ë‚  ìš¸ë¦‰ë„ì—ì„œ ìœ¡ì•ˆìœ¼ë¡œ ê´€ì¸¡ ê°€ëŠ¥ (ê°€ì‹œê±°ë¦¬ ë‚´ ìœ„ì¹˜)",
                    point1: "ë™ë„ (ìœ ì¸ ë“±ëŒ€, ê²½ë¹„ëŒ€)",
                    point2: "ì„œë„ (ì£¼ë¯¼ ìˆ™ì†Œ, ì‹ìˆ˜ì›)"
                },
                values: [
                    { title: "ìƒíƒœì  ê°€ì¹˜", icon: "ğŸ¦", desc: "ì² ìƒˆë“¤ì˜ ì¤‘ê°„ ê¸°ì°©ì§€(ê´­ì´ê°ˆë§¤ê¸°, ë°”ë‹¤ì œë¹„). ê³¼ê±° ê°•ì¹˜(ë°”ë‹¤ì‚¬ì)ì˜ ì„œì‹ì§€. ì²œì—°ê¸°ë…ë¬¼ ì œ336í˜¸." },
                    { title: "ê²½ì œì  ìì›", icon: "ğŸ’", desc: "ë¯¸ë˜ ì—ë„ˆì§€ 'ë©”íƒ„í•˜ì´ë“œë ˆì´íŠ¸' ë§¤ì¥. í•œë¥˜ì™€ ë‚œë¥˜ê°€ ë§Œë‚˜ëŠ” í™©ê¸ˆ ì–´ì¥(ì¡°ê²½ìˆ˜ì—­)." },
                    { title: "ì „ëµì  ìš”ì¶©ì§€", icon: "âš“", desc: "ë™ë¶ì•„ í•´ìƒ êµí†µë¡œì˜ ì¤‘ì‹¬. ê¸°ìƒ ê´€ì¸¡ ë° í†µì‹  ê±°ì ìœ¼ë¡œì„œì˜ êµ°ì‚¬ì  ì¤‘ìš”ì„±." }
                ]
            },
            history: {
                intro: "ê³ ëŒ€ ì‹ ë¼ì‹œëŒ€ë¶€í„° í˜„ëŒ€ì— ì´ë¥´ê¸°ê¹Œì§€, ë…ë„ê°€ í•œêµ­ì˜ ì˜í† ì„ì„ ì¦ëª…í•˜ëŠ” ê¸°ë¡ì€ ì¼ê´€ë˜ê²Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.",
                timeline: [
                    { year: "512", title: "ìš°ì‚°êµ­ ë³µì†", desc: "ì‹ ë¼ ì´ì‚¬ë¶€, ìš°ì‚°êµ­ì„ ë³µì†. ë…ë„ê°€ í•œêµ­ ì—­ì‚¬ì— í¸ì…ë¨." },
                    { year: "1693", title: "ì•ˆìš©ë³µ ì‚¬ê±´", desc: "ì•ˆìš©ë³µì˜ í™œì•½ìœ¼ë¡œ ì¼ë³¸ ë§‰ë¶€ê°€ ìš¸ë¦‰ë„Â·ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ì¸ì •." },
                    { year: "1900", title: "ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸", desc: "ë…ë„ë¥¼ 'ì„ë„'ë¡œ ëª…ëª…í•˜ê³  ìš¸ë¦‰êµ° ê´€í• ë¡œ ê³µì‹ ì„ í¬." },
                    { year: "1905", title: "ì‹œë§ˆë„¤í˜„ ê³ ì‹œ ì œ40í˜¸", desc: "ì¼ë³¸ì˜ ë¶ˆë²• í¸ì… ì‹œë„ (ëŸ¬ì¼ì „ìŸ ì¤‘)." },
                    { year: "1946", title: "SCAPIN ì œ677í˜¸", desc: "ì—°í•©êµ­ ìµœê³ ì‚¬ë ¹ê´€ ê°ì„œ, ë…ë„ë¥¼ ì¼ë³¸ í†µì¹˜ê¶Œì—ì„œ ì œì™¸í•˜ê³  í•œêµ­ ë°˜í™˜." },
                    { year: "1953", title: "ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€", desc: "ë¯¼ê°„ì¸ í™ìˆœì¹  ë“± ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€ ê²°ì„± ë° ìˆ˜í˜¸." },
                    { year: "1981", title: "ìµœì´ˆ ì£¼ë¯¼ ë“±ë¡", desc: "ìµœì¢…ë• ë‹˜, ì£¼ë¯¼ë“±ë¡ ì´ì „ìœ¼ë¡œ ë…ë„ë¥¼ ìœ ì¸ë„í™”." }
                ],
                documents: {
                    korea: [
                        { name: "ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ (1454)", content: "ìš°ì‚°(ë…ë„)ê³¼ ë¬´ë¦‰(ìš¸ë¦‰ë„) ë‘ ì„¬ì´ ì„œë¡œ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤." },
                        { name: "ì‹ ì¦ë™êµ­ì—¬ì§€ìŠ¹ëŒ (1531)", content: "ìš°ì‚°ë„ì™€ ìš¸ë¦‰ë„ê°€ ìš°ë¦¬ ì˜í† ì„ì„ ì‹œê°í™”í•œ ì§€ë„ í¬í•¨." },
                        { name: "ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸ (1900)", content: "ê·¼ëŒ€ì  ì˜ìœ ê¶Œ í™•ë¦½, ê´€í•  êµ¬ì—­ ê³µì‹ í¬í•¨." }
                    ],
                    japan: [
                        { name: "ì€ì£¼ì‹œì²­í•©ê¸° (1667)", content: "ì¼ë³¸ì˜ ê²½ê³„ë¥¼ ì˜¤í‚¤ì„¬ìœ¼ë¡œ ê·œì •. ìš¸ë¦‰ë„/ë…ë„ë¥¼ ì œì™¸í•¨." },
                        { name: "íƒœì •ê´€ ì§€ë ¹ (1877)", content: "ì¼ë³¸ ìµœê³  í–‰ì •ê¸°ê´€ì´ 'ë…ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ì—†ìŒ'ì„ ê³µì‹ ì¸ì •." },
                        { name: "ì‚¼êµ­ì ‘ì–‘ì§€ë„ (1785)", content: "ë…ë„ë¥¼ ì¡°ì„ ì˜ ìƒ‰(í™©ìƒ‰)ìœ¼ë¡œ ì¹ í•˜ê³  'ì¡°ì„ ì˜ ê²ƒ'ì´ë¼ ëª…ê¸°." }
                    ]
                }
            },
            resolution: {
                intro: "í˜„ì¬ì˜ ê°ˆë“±ì„ ë„˜ì–´, ì •í™•í•œ ì—­ì‚¬ ì¸ì‹ê³¼ í‰í™”ì  ë…¸ë ¥ì„ í†µí•´ ë¯¸ë˜ë¥¼ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.",
                conflicts: [
                    { title: "ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ ", desc: "2005ë…„ ì‹œë§ˆë„¤í˜„ ì¡°ë¡€ ì œì •. ë§¤ë…„ ê°ˆë“± ìœ ë°œì˜ ì›ì¸." },
                    { title: "êµê³¼ì„œ ì™œê³¡", desc: "'ì¼ë³¸ ê³ ìœ  ì˜í† 'ë¼ëŠ” í—ˆìœ„ ì‚¬ì‹¤ ê¸°ìˆ ë¡œ ë¯¸ë˜ ì„¸ëŒ€ ì˜¤ì¸ ìœ ë„." }
                ],
                solutions: [
                    { step: 1, title: "ì¸ì‹ì˜ ì „í™˜", desc: "ê°ì •ì  ëŒ€ì‘ë³´ë‹¤ ë…¼ë¦¬ì ì´ê³  ì •í™•í•œ ì§€ì‹ ë¬´ì¥." },
                    { step: 2, title: "êµ­ì œì  í™ë³´", desc: "ì„¸ê³„ ì§€ë„ ë° ë¬¸í—Œì˜ ì˜¬ë°”ë¥¸ í‘œê¸° ì‹œì • ë…¸ë ¥." },
                    { step: 3, title: "í•œì¼ í˜‘ë ¥", desc: "ê³µë™ êµê³¼ì„œ ì§‘í•„ ë“± ë¯¼ê°„ êµë¥˜ë¥¼ í†µí•œ í‰í™” ëª¨ìƒ‰." }
                ]
            }
        };

        // --- STATE MANAGEMENT ---
        let currentSection = 'dashboard';
        let charts = {}; // Store chart instances to destroy them before re-rendering

        // --- CORE NAVIGATION ---
        function navigateTo(sectionId) {
            currentSection = sectionId;
            
            // Update UI Tabs
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeNav = document.getElementById(`nav-${sectionId}`);
            if (activeNav) activeNav.classList.add('active');

            // Render Content
            const contentDiv = document.getElementById('app-content');
            contentDiv.innerHTML = ''; // Clear current content
            
            // Destroy existing charts to prevent memory leaks/canvas errors
            Object.values(charts).forEach(chart => chart.destroy());
            charts = {};

            // Scroll to top
            window.scrollTo(0, 0);

            // Router
            switch(sectionId) {
                case 'dashboard': renderDashboard(contentDiv); break;
                case 'geography': renderGeography(contentDiv); break;
                case 'history': renderHistory(contentDiv); break;
                case 'resolution': renderResolution(contentDiv); break;
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- RENDER FUNCTIONS ---

        // 1. DASHBOARD
        function renderDashboard(container) {
            // Hero Section
            const heroHTML = `
                <div class="text-center py-10 px-4 bg-white rounded-2xl shadow-sm mb-8 border border-stone-100">
                    <h1 class="text-4xl font-extrabold text-stone-800 mb-4 tracking-tight">${appData.summary.title}</h1>
                    <p class="text-lg text-stone-600 max-w-3xl mx-auto leading-relaxed">${appData.summary.abstract}</p>
                </div>
            `;

            // Stats Grid
            const statsHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    ${appData.summary.stats.map(stat => `
                        <div class="bg-white p-6 rounded-xl shadow-sm border-l-4 border-sky-600">
                            <h3 class="text-sm font-semibold text-stone-400 uppercase tracking-wider">${stat.label}</h3>
                            <p class="text-2xl font-bold text-stone-800 mt-2">${stat.value}</p>
                        </div>
                    `).join('')}
                </div>
            `;

            // Quick Chart: "Why Dokdo Matters" (Abstract representation)
            const chartSection = `
                <div class="bg-white p-6 rounded-xl shadow-sm mb-8">
                    <h2 class="text-xl font-bold text-stone-800 mb-4 border-b pb-2">ë…ë„ êµ¬ì„± ìš”ì†Œ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="text-stone-600 space-y-4">
                            <p>ë…ë„ëŠ” ë‹¨ìˆœíˆ í•˜ë‚˜ì˜ ì„¬ì´ ì•„ë‹™ë‹ˆë‹¤. ë™ë„ì™€ ì„œë„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ 89ê°œì˜ ì‘ì€ ë°”ìœ„ì„¬ë“¤ì´ ì–´ìš°ëŸ¬ì§„ ì²œì—°ë³´í˜¸êµ¬ì—­ì…ë‹ˆë‹¤.</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>ë™ë„:</strong> ë…ë„ê²½ë¹„ëŒ€, ë“±ëŒ€ ìœ„ì¹˜</li>
                                <li><strong>ì„œë„:</strong> ì£¼ë¯¼ ìˆ™ì†Œ, ë¬¼ê³¨(ì‹ìˆ˜)</li>
                                <li><strong>ë¶€ì†ë„ì„œ:</strong> 89ê°œì˜ ë‹¤ì–‘í•œ ë°”ìœ„ì„¬</li>
                            </ul>
                            <div class="mt-4 p-4 bg-sky-50 rounded-lg text-sky-800 text-sm">
                                ğŸ’¡ ìš¸ë¦‰ë„ì—ì„œ 87.4km, ì¼ë³¸ ì˜¤í‚¤ì„¬ì—ì„œ 157.5km. <br>
                                ë…ë„ëŠ” ì§€ë¦¬ì ìœ¼ë¡œ ìš¸ë¦‰ë„ì™€ í›¨ì”¬ ê°€ê¹ìŠµë‹ˆë‹¤.
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="compositionChart"></canvas>
                        </div>
                    </div>
                </div>
            `;

            // CTA
            const ctaHTML = `
                <div class="text-center mt-8">
                    <button onclick="navigateTo('geography')" class="bg-stone-800 hover:bg-stone-700 text-white font-bold py-3 px-8 rounded-full transition shadow-lg transform hover:-translate-y-1">
                        ë…ë„ íƒí—˜ ì‹œì‘í•˜ê¸° â†’
                    </button>
                </div>
            `;

            container.innerHTML = heroHTML + statsHTML + chartSection + ctaHTML;

            // Render Chart
            setTimeout(() => {
                const ctx = document.getElementById('compositionChart').getContext('2d');
                charts.compositionChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ë™ë„', 'ì„œë„', 'ë¶€ì†ë„ì„œ(89ê°œ)'],
                        datasets: [{
                            data: [1, 1, 89],
                            backgroundColor: ['#0369a1', '#0ea5e9', '#d6d3d1'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + (context.raw > 10 ? 'ë‹¤ìˆ˜' : 'ì£¼ìš” ì„¬');
                                    }
                                }
                            }
                        }
                    }
                });
            }, 0);
        }

        // 2. GEOGRAPHY
        function renderGeography(container) {
            const intro = `
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-stone-800 mb-2">ì§€ë¦¬ì  íŠ¹ì„±ê³¼ ê°€ì¹˜</h2>
                    <p class="text-stone-600">${appData.geography.intro}</p>
                </div>
            `;

            const cards = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                    ${appData.geography.values.map(val => `
                        <div class="bg-white p-6 rounded-xl shadow-md interactive-card border border-stone-100">
                            <div class="text-4xl mb-4">${val.icon}</div>
                            <h3 class="text-xl font-bold text-stone-800 mb-2">${val.title}</h3>
                            <p class="text-stone-600 text-sm leading-relaxed">${val.desc}</p>
                        </div>
                    `).join('')}
                </div>
            `;

            // Location Context Visualization (Bar Chart: Distance)
            const locationViz = `
                <div class="bg-white p-8 rounded-xl shadow-sm">
                    <h3 class="text-xl font-bold text-stone-800 mb-4">ìœ„ì¹˜ì  ê·¼ì ‘ì„± (ê±°ë¦¬ ë¹„êµ)</h3>
                    <p class="text-sm text-stone-500 mb-6">ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ì— ê¸°ë¡ëœ ëŒ€ë¡œ ë‚ ì”¨ê°€ ë§‘ìœ¼ë©´ ìš¸ë¦‰ë„ì—ì„œ ë…ë„ê°€ ë³´ì…ë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="distanceChart"></canvas>
                    </div>
                </div>
            `;

            container.innerHTML = intro + cards + locationViz;

            // Render Chart
            setTimeout(() => {
                const ctx = document.getElementById('distanceChart').getContext('2d');
                charts.distanceChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['ìš¸ë¦‰ë„ â†” ë…ë„', 'ì¼ë³¸ ì˜¤í‚¤ì„¬ â†” ë…ë„'],
                        datasets: [{
                            label: 'ê±°ë¦¬ (km)',
                            data: [87.4, 157.5],
                            backgroundColor: ['#0369a1', '#d6d3d1'], // Emphasis on Korea proximity
                            borderRadius: 5
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { beginAtZero: true, title: { display: true, text: 'ê±°ë¦¬ (km)' } }
                        },
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    afterLabel: (ctx) => ctx.raw === 87.4 ? " ìœ¡ì•ˆ ê´€ì¸¡ ê°€ëŠ¥ (ê°€ì‹œê¶Œ)" : " ìœ¡ì•ˆ ê´€ì¸¡ ë¶ˆê°€"
                                }
                            }
                        }
                    }
                });
            }, 0);
        }

        // 3. HISTORY
        function renderHistory(container) {
            const intro = `
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-stone-800 mb-2">ì—­ì‚¬ì™€ ì¦ê±°</h2>
                    <p class="text-stone-600">${appData.history.intro}</p>
                </div>
            `;

            // Controls
            const controls = `
                <div class="flex space-x-4 mb-8">
                    <button onclick="toggleHistoryView('timeline')" id="btn-timeline" class="px-4 py-2 rounded-full bg-stone-800 text-white font-medium text-sm transition shadow-md">ì£¼ìš” ì—°ëŒ€ê¸°</button>
                    <button onclick="toggleHistoryView('documents')" id="btn-documents" class="px-4 py-2 rounded-full bg-white text-stone-600 border border-stone-200 font-medium text-sm hover:bg-stone-50 transition">ì‚¬ë£Œ ì¦ê±° ë¹„êµ</button>
                </div>
            `;

            // View Container
            const viewContainer = `<div id="history-view-container"></div>`;

            container.innerHTML = intro + controls + viewContainer;
            
            // Initial View
            renderTimelineView();
        }

        function toggleHistoryView(view) {
            // Update Buttons
            const btnT = document.getElementById('btn-timeline');
            const btnD = document.getElementById('btn-documents');
            
            if (view === 'timeline') {
                btnT.className = "px-4 py-2 rounded-full bg-stone-800 text-white font-medium text-sm transition shadow-md";
                btnD.className = "px-4 py-2 rounded-full bg-white text-stone-600 border border-stone-200 font-medium text-sm hover:bg-stone-50 transition";
                renderTimelineView();
            } else {
                btnD.className = "px-4 py-2 rounded-full bg-stone-800 text-white font-medium text-sm transition shadow-md";
                btnT.className = "px-4 py-2 rounded-full bg-white text-stone-600 border border-stone-200 font-medium text-sm hover:bg-stone-50 transition";
                renderDocumentsView();
            }
        }

        function renderTimelineView() {
            const container = document.getElementById('history-view-container');
            
            const html = `
                <div class="relative max-w-3xl mx-auto timeline-line pl-8 sm:pl-0">
                    ${appData.history.timeline.map((event, index) => `
                        <div class="relative z-10 mb-8 sm:flex ${index % 2 === 0 ? 'flex-row-reverse' : ''} items-center w-full group">
                            <!-- Line Dot -->
                            <div class="absolute left-0 sm:left-1/2 w-4 h-4 bg-sky-600 rounded-full border-4 border-white shadow transform -translate-x-1.5 sm:-translate-x-1/2 mt-1.5 sm:mt-0"></div>
                            
                            <!-- Content -->
                            <div class="sm:w-1/2 pl-8 sm:pl-0 ${index % 2 === 0 ? 'sm:pl-12 text-left' : 'sm:pr-12 sm:text-right'}">
                                <div class="bg-white p-5 rounded-lg shadow-sm border border-stone-100 hover:shadow-md transition">
                                    <span class="inline-block px-2 py-1 bg-stone-100 text-stone-600 text-xs font-bold rounded mb-2">${event.year}</span>
                                    <h4 class="text-lg font-bold text-stone-800">${event.title}</h4>
                                    <p class="text-stone-600 text-sm mt-1">${event.desc}</p>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            container.innerHTML = html;
        }

        function renderDocumentsView() {
            const container = document.getElementById('history-view-container');
            
            const html = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Korean Evidence -->
                    <div>
                        <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center">
                            <span class="bg-sky-100 text-sky-800 p-2 rounded-lg mr-2 text-sm">ğŸ‡°ğŸ‡· í•œêµ­ ì¸¡ ë¬¸í—Œ</span>
                            <span class="text-sm font-normal text-stone-500 ml-auto">ìš°ë¦¬ ì˜í† ì˜ ê¸°ë¡</span>
                        </h3>
                        <div class="space-y-4">
                            ${appData.history.documents.korea.map(doc => `
                                <div class="bg-white p-4 rounded-lg shadow-sm border-l-4 border-sky-600">
                                    <h4 class="font-bold text-stone-800">${doc.name}</h4>
                                    <p class="text-stone-600 text-sm mt-1">"${doc.content}"</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Japanese Evidence -->
                    <div>
                        <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center">
                            <span class="bg-stone-200 text-stone-700 p-2 rounded-lg mr-2 text-sm">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì¸¡ ë¬¸í—Œ</span>
                            <span class="text-sm font-normal text-stone-500 ml-auto">ì˜í†  ì œì™¸ ì¸ì • ê¸°ë¡</span>
                        </h3>
                        <div class="space-y-4">
                            ${appData.history.documents.japan.map(doc => `
                                <div class="bg-stone-50 p-4 rounded-lg shadow-sm border-l-4 border-stone-400">
                                    <h4 class="font-bold text-stone-700">${doc.name}</h4>
                                    <p class="text-stone-600 text-sm mt-1">"${doc.content}"</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <!-- Analysis Chart -->
                <div class="mt-10 bg-white p-6 rounded-xl shadow-sm">
                    <h3 class="text-lg font-bold text-stone-800 mb-2 text-center">ì—­ì‚¬ì  ê¸°ë¡ì˜ ì¼ê´€ì„±</h3>
                    <div class="chart-container" style="height: 250px;">
                        <canvas id="docChart"></canvas>
                    </div>
                </div>
            `;
            
            container.innerHTML = html;

            // Render Chart
            setTimeout(() => {
                const ctx = document.getElementById('docChart').getContext('2d');
                charts.docChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['í•œêµ­ ë¬¸í—Œ (ì˜ìœ ê¶Œ ì£¼ì¥)', 'ì¼ë³¸ ë¬¸í—Œ (ì˜ìœ ê¶Œ ë°°ì œ ì¸ì •)'],
                        datasets: [{
                            label: 'ì£¼ìš” ì‚¬ë£Œ ìˆ˜',
                            data: [3, 3], // Based on the 3 key examples provided in text for each
                            backgroundColor: ['#0369a1', '#78716c'],
                            barThickness: 50
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            title: { display: true, text: 'ì–‘êµ­ ì£¼ìš” ê³ ë¬¸í—Œ ë¶„ì„' }
                        },
                        scales: {
                            y: { beginAtZero: true, ticks: { stepSize: 1 } }
                        }
                    }
                });
            }, 0);
        }

        // 4. RESOLUTION
        function renderResolution(container) {
            const intro = `
                <div class="mb-8 text-center">
                    <h2 class="text-3xl font-bold text-stone-800 mb-2">ê°ˆë“±ê³¼ í™”í•´, ê·¸ë¦¬ê³  ë¯¸ë˜</h2>
                    <p class="text-stone-600 max-w-2xl mx-auto">${appData.resolution.intro}</p>
                </div>
            `;

            const conflictHTML = `
                <div class="bg-red-50 p-6 rounded-xl border border-red-100 mb-8">
                    <h3 class="text-xl font-bold text-red-800 mb-4">ğŸš¨ í˜„ì¬ì˜ ê°ˆë“± ìš”ì†Œ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${appData.resolution.conflicts.map(c => `
                            <div class="bg-white p-4 rounded-lg shadow-sm">
                                <h4 class="font-bold text-red-700">${c.title}</h4>
                                <p class="text-stone-600 text-sm mt-1">${c.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            const solutionHTML = `
                <div class="bg-white p-8 rounded-xl shadow-md border border-stone-100">
                    <h3 class="text-xl font-bold text-stone-800 mb-6">ğŸ•Šï¸ í‰í™”ì  í•´ê²°ì„ ìœ„í•œ 3ë‹¨ê³„ ê³¼ì œ</h3>
                    <div class="space-y-6">
                        ${appData.resolution.solutions.map((sol, idx) => `
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-10 h-10 rounded-full bg-sky-600 text-white flex items-center justify-center font-bold mr-4">
                                    ${sol.step}
                                </div>
                                <div>
                                    <h4 class="text-lg font-bold text-stone-800">${sol.title}</h4>
                                    <p class="text-stone-600 mt-1">${sol.desc}</p>
                                </div>
                            </div>
                            ${idx < 2 ? '<div class="w-0.5 h-6 bg-stone-200 ml-5 my-1"></div>' : ''}
                        `).join('')}
                    </div>
                </div>
            `;

            // Final Message
            const outro = `
                <div class="mt-10 p-6 bg-stone-800 text-white rounded-xl text-center">
                    <p class="text-lg font-medium">"ë…ë„ëŠ” ê°ì •ìœ¼ë¡œ ì§€í‚¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, <br class="sm:hidden">ì •í™•í•œ ì—­ì‚¬ ì¸ì‹ê³¼ ë…¼ë¦¬ë¡œ ì§€í‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤."</p>
                </div>
            `;

            container.innerHTML = intro + conflictHTML + solutionHTML + outro;
        }

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            navigateTo('dashboard');
        });

    </script>
</body>
</html>
